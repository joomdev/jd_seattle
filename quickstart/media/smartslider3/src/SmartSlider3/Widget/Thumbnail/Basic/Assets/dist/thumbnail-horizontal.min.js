N2D("SmartSliderWidgetThumbnailDefaultHorizontal","SmartSliderWidget",function(l,d){"use strict";var i=!1,c={videoDark:'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#000" opacity=".6"/><path fill="#FFF" d="M19.8 32c-.124 0-.247-.028-.36-.08-.264-.116-.436-.375-.44-.664V16.744c.005-.29.176-.55.44-.666.273-.126.592-.1.84.07l10.4 7.257c.2.132.32.355.32.595s-.12.463-.32.595l-10.4 7.256c-.14.1-.31.15-.48.15z"/></svg>'};function t(t,i){this.key="thumbnail",this.parameters=l.extend({captionSize:0,minimumThumbnailCount:1.5,invertGroupDirection:0},i),N2Classes.SmartSliderWidget.prototype.constructor.call(this,t)}((t.prototype=Object.create(N2Classes.SmartSliderWidget.prototype)).constructor=t).prototype.onStart=function(){this.ratio=1,this.itemsPerPane=1,this.currentI=0,this.offset=0,this.group=parseInt(this.parameters.group),this.$widget=this.slider.sliderElement.find(".nextend-thumbnail-default"),this.bar=this.$widget.find(".nextend-thumbnail-inner"),this.scroller=this.bar.find(".nextend-thumbnail-scroller"),this.$groups=l();for(var t=0;t<this.group;t++)this.$groups=this.$groups.add(l('<div class="nextend-thumbnail-scroller-group"></div>').appendTo(this.scroller));n2const.rtl.isRtl?(this.previous=this.$widget.find(".nextend-thumbnail-next").on("click",this.previousPane.bind(this)),this.next=this.$widget.find(".nextend-thumbnail-previous").on("click",this.nextPane.bind(this))):(this.previous=this.$widget.find(".nextend-thumbnail-previous").on("click",this.previousPane.bind(this)),this.next=this.$widget.find(".nextend-thumbnail-next").on("click",this.nextPane.bind(this))),this.slider.stages.done("BeforeShow",this.onBeforeShow.bind(this)),this.slider.stages.done("WidgetsReady",this.onWidgetsReady.bind(this))},t.prototype.renderThumbnails=function(){var t;this.parameters.invertGroupDirection&&(t=Math.ceil(this.slider.visibleRealSlides.length/this.group));for(var i=0;i<this.slider.visibleRealSlides.length;i++){var e,s,h,n,r=this.slider.visibleRealSlides[i],o=l('<div class="'+this.parameters.slideStyle+' n2-ow" style="'+this.parameters.containerStyle+'"></div>');this.parameters.invertGroupDirection?o.appendTo(this.$groups.eq(Math.floor(i/t))):o.appendTo(this.$groups.eq(i%this.group)),o.data("slide",r),r.$thumbnail=o,this.parameters.thumbnail!==d&&(e=r.getThumbnailType(),s=c[e]!==d?c[e]:"",l('<div class="n2-ss-thumb-image n2-ow" style="width:'+this.parameters.thumbnail.width+"px; height:"+this.parameters.thumbnail.height+"px;"+this.parameters.thumbnail.code+'">'+s+"</div>").css("background-image","url('"+r.getThumbnail()+"')").appendTo(o)),this.parameters.caption!==d&&(h=l('<div class="'+this.parameters.caption.styleClass+"n2-ss-caption n2-ow n2-caption-"+this.parameters.caption.placement+'" style="'+this.parameters.caption.style+'"></div>'),"before"===this.parameters.caption.placement?h.prependTo(o):h.appendTo(o),this.parameters.title!==d&&h.append('<div class="n2-ow '+this.parameters.title.font+'">'+r.getTitle()+"</div>"),this.parameters.description===d||(n=r.getDescription())&&h.append('<div class="n2-ow '+this.parameters.description.font+'">'+n+"</div>"))}var a="universalclick";"mouseenter"===this.parameters.action?a="universalenter":this.slider.hasTouch()&&(a="n2click"),this.dots=this.scroller.find(".nextend-thumbnail-scroller-group > div").on(a,this.onDotClick.bind(this)),this.images=this.dots.find(".n2-ss-thumb-image")},t.prototype.onTap=function(t){i||(l(t.target).trigger("n2click"),i=!0,setTimeout(function(){i=!1},500))},t.prototype.onBeforeShow=function(){var t=!1;switch(this.parameters.area){case 5:t="left";break;case 8:t="right"}t&&(this.offset=parseFloat(this.$widget.data("offset")),this.slider.responsive.addHorizontalSpacingControl(t,this)),this.renderThumbnails(),this.slider.hasTouch()&&(N2Classes.EventBurrito(this.$widget.get(0),{mouse:!0,axis:"x",start:function(){this.bar.width();this._touch={start:parseInt(this.scroller.css(n2const.rtl.left)),max:0},this.getScrollerWidth()<this.thumbnailDimension.width*Math.ceil(this.dots.length/this.group)&&(this._touch.max=-Math.round(this.thumbnailDimension.width*this.ratio*Math.ceil(this.dots.length/this.group-1))),this._touch.current=this._touch.start}.bind(this),move:function(t,i,e,s,h){return this._touch.current=Math.max(this._touch.max,Math.min(0,this._touch.start+e.x)),this.scroller.css(n2const.rtl.left,this._touch.current),5<Math.abs(e.x)}.bind(this),end:function(t,i,e,s,h){Math.abs(this._touch.start-this._touch.current)<40?this.resetPane():this._touch.current>this._touch.start?this.previousPane():this.nextPane(),Math.abs(e.x)<10&&Math.abs(e.y)<10?this.onTap(t):nextend.preventClick(),delete this._touch}.bind(this)}),this.slider.parameters.controls.drag||this.$widget.on("click",this.onTap.bind(this))),this.widthPercent=this.$widget.data("width-percent"),this.thumbnailDimension={widthLocal:this.dots.width(),width:this.dots.outerWidth(!0),height:this.dots.outerHeight(!0),widthBorder:parseInt(this.dots.css("borderLeftWidth"))+parseInt(this.dots.css("borderRightWidth"))+parseInt(this.dots.css("paddingLeft"))+parseInt(this.dots.css("paddingRight")),heightBorder:parseInt(this.dots.css("borderTopWidth"))+parseInt(this.dots.css("borderBottomWidth"))+parseInt(this.dots.css("paddingTop"))+parseInt(this.dots.css("paddingBottom"))},this.thumbnailDimension.widthMargin=this.thumbnailDimension.width-this.dots.outerWidth(),this.thumbnailDimension.heightMargin=this.thumbnailDimension.height-this.dots.outerHeight(),this.imageDimension={width:this.images.outerWidth(!0),height:this.images.outerHeight(!0)},this.sideDimension=.25*this.thumbnailDimension.width,this.scroller.height(this.thumbnailDimension.height*this.ratio*this.group),this.bar.height(this.scroller.outerHeight(!0)),this.horizontalSpacing=this.bar.outerWidth()-this.bar.width(),this.slider.sliderElement.on({SlideWillChange:this.onSlideSwitch.bind(this),visibleRealSlidesChanged:this.onVisibleRealSlidesChanged.bind(this)})},t.prototype.onWidgetsReady=function(){this.activateDots(this.slider.currentSlide.index),this.slider.sliderElement.on("SliderResize",this.onSliderResize.bind(this)),this.onSliderResize()},t.prototype.filterSliderVerticalCSS=function(t){};var e=!(t.prototype.onSliderResize=function(){var t,i,e,s,h,n,r;this.slider.visibleRealSlides.length&&(this.lastScrollerWidth!==this.getScrollerWidth()&&(t=1,e=(i=this.getScrollerWidth())-2*this.sideDimension,(n=i/this.thumbnailDimension.width)<this.dots.length/this.group&&(n=e/this.thumbnailDimension.width),this.localSideDimension=this.sideDimension,this.parameters.minimumThumbnailCount>=n&&(this.localSideDimension=.1*i,t=(e=i-2*this.localSideDimension)/(this.parameters.minimumThumbnailCount*this.thumbnailDimension.width),n=e/(this.thumbnailDimension.width*t),(n=i/(this.thumbnailDimension.width*t))<this.dots.length/this.group&&(n=e/(this.thumbnailDimension.width*t))),this.ratio!==t&&((h={}).width=Math.floor(this.thumbnailDimension.width*t-this.thumbnailDimension.widthMargin-this.thumbnailDimension.widthBorder),h.height=Math.floor((this.thumbnailDimension.height-this.parameters.captionSize)*t-this.thumbnailDimension.heightMargin+this.parameters.captionSize-this.thumbnailDimension.heightBorder),this.dots.css(h),s=this.dots.width()/this.thumbnailDimension.widthLocal,(h={}).width=Math.ceil(this.imageDimension.width*s),h.height=Math.ceil(this.imageDimension.height*s),this.images.css(h),this.bar.css("height","auto"),this.ratio=t),this.itemsPerPane=Math.floor(n),r=this.slider.responsive.dynamicHeightSlide||this.slider.currentSlide,this.currentI=r.index,this.scroller.css(n2const.rtl.left,this.getScrollerTargetLeft(this.getPaneByIndex(this.currentI))),this.scroller.css("width",this.thumbnailDimension.width*this.ratio*Math.ceil(this.dots.length/this.group))),this.scroller.height(this.thumbnailDimension.height*this.ratio*this.group),this.bar.height(this.scroller.outerHeight(!0)))});return t.prototype.onDotClick=function(t){nextend.shouldPreventClick||(e||(this.slider.directionalChangeToReal(l(t.currentTarget).data("slide").index),e=!0),setTimeout(function(){e=!1}.bind(this),400))},t.prototype.onSlideSwitch=function(t,i){this.activateDots(i.index),this.goToDot(this.slider.getRealIndex(i.index))},t.prototype.activateDots=function(t){this.dots.removeClass("n2-active");for(var i=this.slider.slides[t].slides,e=0;i.length>e;e++)i[e].$thumbnail.addClass("n2-active")},t.prototype.resetPane=function(){this.goToDot(this.currentI)},t.prototype.previousPane=function(){this.goToDot(this.currentI-this.itemsPerPane*this.group)},t.prototype.nextPane=function(){this.goToDot(this.currentI+this.itemsPerPane*this.group)},t.prototype.getPaneByIndex=function(t){return t=Math.max(0,Math.min(this.dots.length-1,t)),this.parameters.invertGroupDirection?Math.floor(t%Math.ceil(this.dots.length/this.group)/this.itemsPerPane):Math.floor(t/this.group/this.itemsPerPane)},t.prototype.getScrollerTargetLeft=function(t){this.lastScrollerWidth=this.getScrollerWidth();var i=0;t===Math.floor((this.dots.length-1)/this.group/this.itemsPerPane)?(i=-(t*this.itemsPerPane*this.thumbnailDimension.width*this.ratio),0===t?this.previous.removeClass("n2-active"):this.previous.addClass("n2-active"),this.next.removeClass("n2-active")):(0<t?(i=-(t*this.itemsPerPane*this.thumbnailDimension.width*this.ratio-this.localSideDimension),this.previous.addClass("n2-active")):(i=0,this.previous.removeClass("n2-active")),this.next.addClass("n2-active"));var e=this.getScrollerWidth(),s=this.thumbnailDimension.width*this.ratio*Math.ceil(this.dots.length/this.group);return e<s&&(i=Math.max(i,-(s-e))),i},t.prototype.goToDot=function(t){this.tween&&this.tween.progress()<1&&this.tween.pause();var i={};i[n2const.rtl.left]=this.getScrollerTargetLeft(this.getPaneByIndex(t)),this.tween=NextendTween.to(this.scroller,.5,i),this.currentI=t},t.prototype.onVisibleRealSlidesChanged=function(){this.dots.remove(),this.renderThumbnails(),this.lastScrollerWidth=0},t.prototype.getScrollerWidth=function(){return this.widthPercent?Math.ceil(this.slider.responsive.resizeContext.sliderWidth*this.widthPercent/100)-this.horizontalSpacing:this.bar.width()},t.prototype.getSize=function(){return 0},t.prototype.refreshSliderSize=function(t){},t});