(function(){var e=this;e.N2_=e.N2_||{r:[],d:[]},e.N2R=e.N2R||function(){e.N2_.r.push(arguments)},e.N2D=e.N2D||function(){e.N2_.d.push(arguments)}}).call(window),N2D("SmartSliderBlock",["SmartSliderAbstract"],function(e,t){function i(e,t){this.type="block",this.responsiveClass=N2Classes.SmartSliderResponsiveBlock,N2Classes.SmartSliderAbstract.prototype.constructor.call(this,e,t)}return((i.prototype=Object.create(N2Classes.SmartSliderAbstract.prototype)).constructor=i).prototype.initResponsiveMode=function(){this.responsive=new N2Classes.SmartSliderResponsiveBlock(this,this.parameters.responsive),this.responsive.start(),N2Classes.SmartSliderAbstract.prototype.initResponsiveMode.call(this)},i.prototype.initMainAnimation=function(){this.mainAnimation=!1,this.isAdmin||this.disabled.postBackgroundAnimations||0==this.parameters.postBackgroundAnimations||(this.postBackgroundAnimation=new N2Classes.SmartSliderPostBackgroundAnimation(this,!1))},i.prototype.afterRawSlidesReady=function(){if(this.parameters.postBackgroundAnimations&&this.parameters.postBackgroundAnimations.slides){for(var e=0;e<this.slides.length;e++)this.slides[e].postBackgroundAnimation=this.parameters.postBackgroundAnimations.slides[e];delete this.parameters.postBackgroundAnimations.slides}},i.prototype.afterRawSlidesReady=function(){if(this.parameters.postBackgroundAnimations&&this.parameters.postBackgroundAnimations.slides){for(var e=0;e<this.slides.length;e++)this.slides[e].postBackgroundAnimation=this.parameters.postBackgroundAnimations.slides[e];delete this.parameters.postBackgroundAnimations.slides}},i.prototype.findSlideBackground=function(e){var t=N2Classes.SmartSliderAbstract.prototype.findSlideBackground.call(this,e);return t.appendTo(this.sliderElement.find(".n2-ss-slide-backgrounds")),t},i.prototype.getSlideBackgroundContainer=function(){return this.sliderElement.find(".n2-ss-slide").parent()},i}),N2D("SmartSliderResponsiveBlock",["SmartSliderResponsive"],function(e,t){function i(){N2Classes.SmartSliderResponsive.prototype.constructor.apply(this,arguments)}return((i.prototype=Object.create(N2Classes.SmartSliderResponsive.prototype)).constructor=i).prototype.init=function(){this.$cache={"n2-ss-slider-1":this.sliderElement.find(".n2-ss-slider-1"),"n2-ss-slide":this.sliderElement.find(".n2-ss-slide"),"n2-ss-layers-container":this.sliderElement.find(".n2-ss-layers-container")},this.base={sliderWidth:this.sliderElement.width(),sliderHeight:this.sliderElement.height(),slideOuterWidth:this.$cache["n2-ss-slide"].width(),slideOuterHeight:this.$cache["n2-ss-slide"].height(),slideWidth:this.$cache["n2-ss-layers-container"].width(),slideHeight:this.$cache["n2-ss-layers-container"].height()};var e=this.sliderElement.find(".n2-ss-slider-background-video");e.length&&(n2const.isVideoAutoplayAllowed()?(this._videoPlayerReady=this.videoPlayerReady.bind(this,e),0<e[0].videoWidth?this._videoPlayerReady():(e[0].addEventListener("error",this.videoPlayerError.bind(this,e),!0),e[0].addEventListener("canplay",this._videoPlayerReady)),e[0].load(),e[0].play()):this.videoPlayerError(e))},i.prototype.resizeStage1Width=function(){N2Classes.SmartSliderResponsive.prototype.resizeStage1Width.call(this),this.stage1CalculateSliderWidth(),this.stage1CalculateSlideWidth()},i.prototype.stage1CalculateSliderWidth=function(){var e=this.containerElementPadding.width();this.parameters.upscale||(e=Math.min(e,this.base.sliderWidth)),this.parameters.downscale||(e=Math.max(e,this.base.sliderWidth)),this.resizeContext.sliderWidth=this.applyFilter("SliderWidth",e),this.resizeContext.sliderRatio=this.resizeContext.sliderWidth/this.base.sliderWidth,this.sliderElement.css({width:this.resizeContext.sliderWidth})},i.prototype.stage1CalculateSlideWidth=function(){var e,t,i,s,r=this.resizeContext.sliderWidth-(this.base.sliderWidth-this.base.slideOuterWidth);this.resizeContext.slideOuterWidth=r,this.$cache["n2-ss-slide"].css("width",r),this.resizeContext.slideWidth=Math.min(r,this.parameters.maximumSlideWidth[this.device]),0<this.fullPageMinimumSliderHeight&&this.parameters.constrainRatio&&(e=this.fullPageMinimumSliderHeight,t=this.parameters.sizes[this.device],i=this.base.slideHeight,0<t.height&&(i=this.base.slideWidth/t.width*t.height),e<(s=Math.floor(this.resizeContext.slideWidth/this.base.slideWidth*i))&&(this.resizeContext.slideWidth*=e/s)),this.resizeContext.slideRatio=this.resizeContext.slideWidth/this.base.slideWidth;var h=Math.floor((r-this.resizeContext.slideWidth)/2);this.$cache["n2-ss-layers-container"].css({width:this.resizeContext.slideWidth,marginLeft:h,marginRight:h}),this.sliderElement.css({fontSize:16*this.resizeContext.slideRatio+"px"})},i.prototype.getResizeStage2CSS=function(){var e=[];return this.stage2CalculateSlideHeight(e),this.stage2CalculateSliderHeight(e),e},i.prototype.stage2CalculateSlideHeight=function(e){var t=this.parameters.sizes[this.device],i=this.base.slideHeight;0<t.height&&(i=this.base.slideWidth/t.width*t.height);var s=Math.floor(this.resizeContext.slideWidth/this.base.slideWidth*i);0<this.fullPageMinimumSliderHeight&&!this.parameters.constrainRatio&&(s=Math.max(0,this.parameters.minimumHeight,this.fullPageMinimumSliderHeight)),this.minimumSlideHeight=s,this.resizeContext.slideHeight=this.applyFilter("SlideHeight",Math.max(s,this.getMinimumContentHeight(),this.getMinimumStaticContentHeight())),e.push(new N2Classes.CSSData(this.$cache["n2-ss-layers-container"],{height:this.resizeContext.slideHeight}))},i.prototype.stage2CalculateSliderHeight=function(e){var t,i,s;0<this.fullPageMinimumSliderHeight?s=Math.max(this.resizeContext.slideHeight,this.parameters.minimumHeight,this.fullPageMinimumSliderHeight):(s=Math.max(this.resizeContext.slideHeight,this.parameters.minimumHeight,this.fullPageMinimumSliderHeight),0<(t=this.parameters.sizes[this.device]).height&&(i=Math.min(t.height+(this.base.sliderHeight-this.base.slideOuterHeight),Math.floor(this.resizeContext.sliderWidth/t.width*t.height)),s=Math.max(s,i))),this.resizeContext.sliderHeight=this.applyFilter("SliderHeight",s),this.resizeContext.sliderInnerHeight=this.resizeContext.sliderHeight-(this.base.sliderHeight-this.base.slideOuterHeight),e.push(new N2Classes.CSSData(this.$cache["n2-ss-slider-1"],{height:this.resizeContext.sliderHeight})),this.resizeContext.slideOuterHeight=this.resizeContext.sliderHeight-(this.base.sliderHeight-this.base.slideOuterHeight),e.push(new N2Classes.CSSData(this.$cache["n2-ss-slide"],{height:this.resizeContext.slideOuterHeight}));var r=Math.floor((this.resizeContext.sliderHeight-this.resizeContext.slideHeight)/2);e.push(new N2Classes.CSSData(this.$cache["n2-ss-layers-container"],{marginTop:r,marginBottom:r}))},i.prototype.videoPlayerError=function(e){e.remove()},i.prototype.videoPlayerReady=function(e){e[0].removeEventListener("canplay",this._videoPlayerReady),e.data("ratio",e[0].videoWidth/e[0].videoHeight),e.addClass("n2-active"),this.slider.ready(function(){this.slider.sliderElement.on("SliderResize",this.resizeVideo.bind(this,e)),this.resizeVideo(e)}.bind(this))},i.prototype.resizeVideo=function(e){var t=e.data("mode"),i=e.data("ratio"),s=this.slider.responsive.resizeContext.slideOuterWidth/this.slider.responsive.resizeContext.slideOuterHeight;"fill"===t?i<s?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"}):"fit"===t&&(s<i?e.css({width:"100%",height:"auto"}):e.css({width:"auto",height:"100%"})),e.css({marginTop:0,marginLeft:0}),this.center(e)},i.prototype.center=function(e){var t=e.parent();e.css({marginTop:Math.round((t.height()-e.height())/2),marginLeft:Math.round((t.width()-e.width())/2)})},i}),N2D("smartslider-block-type-frontend");