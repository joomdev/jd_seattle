jQuery(document).ready(function(t){function a(a){t(".acym__automation__trigger__droppable__"+a).draggable({cursor:"dragging",revert:function(a){if(!a)return t(".acym__automation__droppable__drag").remove(),!0},revertDuration:300,start:function(_,e){t(".acym__automation__user-trigger__"+a).append('<div class="acym__automation__droppable__drag margin-top-1">'+t(e.helper).html()+"</div>")}}),t(".acym__automation__droppable__"+a).droppable({drop:function(r,i){t(this).find(".acym__automation__drag-here-text").remove();let o=t(".acym__automation__user-trigger__"+a);t(".acym__automation__user-trigger__"+a+" .acym__automation__droppable__trigger").length>0&&o.append('<div class="acym_trigger_delimiter">'+ACYM_JS_TXT.ACYM_OR+"</div>"),o.append('<div class="acym__automation__droppable__trigger margin-top-1"><div class="acym__automation__one__trigger">'+t(i.helper).html()+'</div><i data-trigger-show="'+t(i.helper).attr("data-trigger")+'" class="acymicon-close acym__color__red acym__automation__delete__trigger cursor-pointer"></i></div>'),t(".acym__automation__droppable__drag").remove(),t(".acym__automation__all-trigger__"+a).append('<div class="acym__automation__trigger__droppable__'+a+' margin-top-1 cell" style="display: none" data-trigger="'+t(i.helper).attr("data-trigger")+'">'+t(i.helper).html()+"</div>"),t(i.helper).remove(),_(a),e(a)}})}function _(a){t(".acym__automation__user-trigger__"+a+" [data-class]").each(function(){t(this).addClass(t(this).attr("data-class")),t(this).removeAttr("data-class")}),acym_helperSelect2.setSelect2(),t(".acym__automation__user-trigger__"+a+" [name]").each(function(){t(this).attr("name").includes("stepAutomation")||t(this).attr("name","stepAutomation"+t(this).attr("name"))})}function e(_){t(".acym__automation__delete__trigger").off("click").on("click",function(){let e=t(this).closest(".acym__automation__droppable__trigger"),r=e.prev(".acym_trigger_delimiter");r.length?r.remove():e.next(".acym_trigger_delimiter").remove(),t("[data-trigger="+t(this).attr("data-trigger-show")+"]").show(),e.remove(),a(_)})}t("#acym__automation__info__desc__button").off("click").on("click",function(){let a=t('[name="automation[description]"]');a.is(":visible")?(a.hide(),t(this).find("i").removeClass("acymicon-keyboard_arrow_up").addClass("acymicon-keyboard_arrow_down")):(a.show(),t(this).find("i").removeClass("acymicon-keyboard_arrow_down").addClass("acymicon-keyboard_arrow_up"))}),t("#acym__automation__info__choose__trigger__type p").off("click").on("click",function(){t("#acym__automation__trigger__type__input").val(t(this).attr("data-trigger-type")),t(".selected-trigger").removeClass("selected-trigger"),t(this).addClass("selected-trigger"),t(".acym__automation__info__choose__trigger").hide(),t("#acym__automation__info__choose__trigger__"+t(this).attr("data-trigger-type")).show()}),a("classic"),e("classic"),_("classic"),a("action"),e("action"),_("action")});