jQuery(document).ready(function(e){!function(){let i=e('input[name="config[sending_platform]"]');i.on("change",function(){let i=e('input[name="config[sending_platform]"]:checked').val();"server"===i?(e('i[data-radio="config_mailer_methodelasticemail"], label[for="config_mailer_methodelasticemail"]').addClass("is-hidden"),e('i[data-radio="config_mailer_methodsmtp"], label[for="config_mailer_methodsmtp"]').addClass("is-hidden"),e('i[data-radio="config_mailer_methodqmail"], label[for="config_mailer_methodqmail"]').removeClass("is-hidden").show(),e('i[data-radio="config_mailer_methodsendmail"], label[for="config_mailer_methodsendmail"]').removeClass("is-hidden").show(),e('i[data-radio="config_mailer_methodphpmail"], label[for="config_mailer_methodphpmail"]').removeClass("is-hidden").show().click()):(e('i[data-radio="config_mailer_methodqmail"], label[for="config_mailer_methodqmail"]').addClass("is-hidden"),e('i[data-radio="config_mailer_methodsendmail"], label[for="config_mailer_methodsendmail"]').addClass("is-hidden"),e('i[data-radio="config_mailer_methodphpmail"], label[for="config_mailer_methodphpmail"]').addClass("is-hidden"),e('i[data-radio="config_mailer_methodelasticemail"], label[for="config_mailer_methodelasticemail"]').removeClass("is-hidden").show(),e('i[data-radio="config_mailer_methodsmtp"], label[for="config_mailer_methodsmtp"]').removeClass("is-hidden").show().click())});let t=e('input[name="config[mailer_method]"]:checked').val();"phpmail"===t||"sendmail"===t||"qmail"===t?e("#config_sending_platformserver").click():e("#config_sending_platformexternal").click(),i.trigger("change"),e("#config_mailer_method"+t).click()}(),function(){let i=e('input[name="config[mailer_method]"]');i.on("change",function(){e(".send_settings").hide();let i=e('input[name="config[mailer_method]"]:checked').val();"sendmail"===i&&e("#sendmail_settings").show(),"smtp"===i&&e("#smtp_settings").show(),"elasticemail"===i&&e("#elastic_settings").show()}),i.trigger("change")}(),e("#available_ports_check").off("click").on("click",function(i){i.preventDefault();let t=e(this).parent();t.html('<i class="acymicon-circle-o-notch acymicon-spin"></i>'),e.get(ACYM_AJAX_URL+"&ctrl=configuration&task=ports",function(e){t.html(e)})}),e(".acym_autoselect").off("click").on("click",function(){this.select()}),e("#timeoutcheck_action").off("click").on("click",function(i){i.preventDefault();try{e("#timeoutcheck").html('<i class="acymicon-circle-o-notch acymicon-spin"></i>'),e.get(ACYM_AJAX_URL+"&ctrl=configuration&task=detecttimeout",function(i){e("#timeoutcheck").html("Done!")})}catch(e){alert(acym_helper.sprintf(ACYM_JS_TXT.ACYM_MAX_EXEC_TIME_GET_ERROR,e))}}),e("#checkdb_button").off("click").on("click",function(i){i.preventDefault(),e("#checkdb_report").html('<i class="acymicon-circle-o-notch acymicon-spin"></i>'),e.get(ACYM_AJAX_URL+"&ctrl=configuration&task=checkDB",function(i){e("#checkdb_report").html(i)})}),e('input[name="config[auto_bounce]"]').off("change").on("change",function(){e("#acym__configuration__bounce__auto_bounce__configuration").toggle()}),function i(){e(".acym__configuration__mail-settings").is(":visible")&&(acym_helperIntroJS.introContent=[{element:".acym__configuration__mail-settings",text:ACYM_JS_TXT.ACYM_INTRO_MAIL_SETTINGS,position:"top"},{element:".acym__configuration__advanced",text:ACYM_JS_TXT.ACYM_INTRO_ADVANCED,position:"top"}],acym_helperIntroJS.setIntrojs("configuration__mail-settings")),e('[name="config[dkim]"]').on("change",function(){acym_helperIntroJS.introContent=[{element:".acym__configuration__dkim",text:ACYM_JS_TXT.ACYM_INTRO_DKIM,position:"top"}],acym_helperIntroJS.setIntrojs("configuration__dkim")}),e(".acym__configuration__cron").is(":visible")&&(acym_helperIntroJS.introContent=[{element:".acym__configuration__cron",text:ACYM_JS_TXT.ACYM_INTRO_CRON}],acym_helperIntroJS.setIntrojs("configuration__cron")),e(".acym__configuration__subscription").is(":visible")&&(acym_helperIntroJS.introContent=[{element:".acym__configuration__subscription",text:ACYM_JS_TXT.ACYM_INTRO_SUBSCRIPTION}],acym_helperIntroJS.setIntrojs("configuration__subscription")),e(".acym__configuration__check-database").is(":visible")&&(acym_helperIntroJS.introContent=[{element:".acym__configuration__check-database",text:ACYM_JS_TXT.ACYM_INTRO_CHECK_DATABASE}],acym_helperIntroJS.setIntrojs("configuration__check-database")),e(".acym_tab").on("click",function(){setTimeout(function(){i()},500)})}(),e("#sendorderid").on("change",function(){"rand"==this.value&&alert(ACYM_JS_TXT.ACYM_NO_RAND_FOR_MULTQUEUE)}),function(){let i=e("#acym__configuration__cron__report--send-to"),t=i.attr("placeholder");i.select2({width:"100%",placeholder:t,tags:!0,tokenSeparators:[","," "],createTag:function(i){let t=e.trim(i.term);return acym_helper.emailValid(t)?{id:t,text:t,newTag:!0}:null}})}(),e("#acym__configuration__button__license").off("click").on("click",function(){let i=e("#acym__configuration__license-key").val(),t=parseInt(e(this).attr("data-acym-linked"));if(""===i)return alert(ACYM_JS_TXT.ACYM_PLEASE_SET_A_LICENSE_KEY),!1;let n=t?"unlinkLicense":"attachLicense";e('[name="task"]').val(n),e("#acym_form").submit()}),e("#acym__configuration__button__cron").off("click").on("click",function(){let i=parseInt(e(this).attr("data-acym-active")),t=i?"deactivateCron":"activateCron";e('[name="task"]').val(t),e("#acym_form").submit()}),function(){let i="";e("#configmultilingual_default").on("change",function(){let t=e(this).val(),n=e("#configmultilingual_languages");n.find('option[value="'+t+'"]').prop("disabled",!0).prop("selected",!1),n.find('option[value="'+i+'"]').prop("disabled",!1),n.select2({theme:"foundation",width:"100%"}),i=t}).trigger("change"),e.acymConfigSave=function(){let i=e("#configmultilingual_languages").val(),t=e('[name="previous_multilingual_languages"]').val();if(acym_helper.empty(t))return!0;t=t.split(",");let n=acym_helper.empty(i)?t:t.filter(e=>!i.includes(e));return!!acym_helper.empty(n)||(e.each(n,function(i){n[i]=e('#configmultilingual_default option[value="'+n[i]+'"]').text()}),acym_helper.confirm(acym_helper.sprintf(ACYM_JS_TXT.ACYM_REMOVE_LANG_CONFIRMATION,n.join(", "))))}}()});