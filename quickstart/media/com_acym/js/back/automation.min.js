jQuery(document).ready(function(a){a.setAutomationReload=function(){a("[acym-automation-reload]").each(function(){a(this).on("change",function(){let t=a(this).attr("acym-automation-reload"),e=JSON.parse(t),n={ctrl:"dynamics",task:"trigger",plugin:e.plugin,trigger:e.trigger};if(e.name&&(n.name=e.name,n.value=a('[name="'+e.name+'"]').val()),e.params)for(let[a,t]of Object.entries(e.params))n[a]=t;if(e.paramFields)for(let[t,i]of Object.entries(e.paramFields))n[t]=a('[name="'+i+'"]').val();a.ajax({type:"POST",url:ACYM_AJAX_URL,data:n,success:function(t){let n=a(e.change);n.html(t),acym_helperSelect2.setSelect2(),acym_helperSelect2.setAjaxSelect2(),acym_helperTooltip.setTooltip(),n.closest(".acym__automation__one__filter.acym__automation__one__filter__classic").find(".acym__automation__inserted__filter input, .acym__automation__inserted__filter select").on("change",function(){a.reloadCounters(n)})}})})})},a.setFieldValue=function(t,e){if(t.hasClass("acym_select2_ajax")){let n=t.attr("data-ctrl");n||(n="dynamics");let i=t.attr("data-task");i||(i="trigger");let c=ACYM_AJAX_URL+"&ctrl="+n+"&task="+i+"&id="+encodeURIComponent(e),l=t.attr("data-params"),o=acym_helper.parseJson(l);c+="&"+a.param(o),a.get(c,function(a){a=acym_helper.parseJson(a);let n=new Option(a.value,e,!1,!1);t.append(n).trigger("change")})}else t.is(":checkbox")||void 0!==t.attr("data-switch")?t.is(":checkbox")&&1==e?t.prop("checked",!0):void 0!==t.attr("data-switch")&&t.val()!=e&&t.closest(".medium-3").find(".cell.switch-label").click():t.val(e);void 0!==t.attr("data-rs")&&""!==e&&(-1!==e.indexOf("]")?a('input[data-open="'+t.attr("data-rs")+'"]').val(e):a('input[data-open="'+t.attr("data-rs")+'"]').val(moment.unix(e).format("DD MMM YYYY HH:mm")))}});